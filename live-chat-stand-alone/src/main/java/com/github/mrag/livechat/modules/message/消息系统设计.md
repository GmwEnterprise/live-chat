# 消息系统设计分析

## 场景分析

### 发送消息

1. 用户发送消息给另一个用户
2. 用户发送消息给一个群

### 接收消息

1. 用户接收另一个用户发来的新消息
2. 用户接收群新消息
3. 用户刚上线时获取所有离线消息
4. 用户拉取一个会话的历史消息（打开会话窗口后获取更多历史消息）
5. 用户接收系统消息

## 消息存储方案

### MySQL 方案

**单库**：

**分布式库**：

### MySQL + Redis 方案

To do.
